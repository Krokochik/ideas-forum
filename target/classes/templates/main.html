<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="Форум идей">
    <meta property="og:site_name" content="ideas-forum.com">
    <meta property="og:url" content="ideas-forum.com">
    <meta property="og:description" content="Форум для ваших идей. Смотрите, делитесь, вдохновляйтесь и воплощайте!">
    <meta property="og:image" content="https://raw.githubusercontent.com/Krokochik/resources/main/meta-img.jpg">
    <meta property="og:image:width" content="700">
    <meta property="og:image:height" content="400">

    <title th:text="Главная"></title>
    <meta name="description" content="Форум для Ваших идей. Смотрите, делитесь, вдохнавляйтесь и воплащайте!">

    <style th:replace="resources :: list-groups"></style>
    <style th:replace="resources :: list-groups-2"></style>
    <style th:replace="resources :: list-groups-3"></style>
    <style th:replace="resources :: select-none"></style>
    <style th:replace="resources :: close"></style>


    <link rel="icon" th:href="@{/images/favicon.png}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body style="min-height: 100vh;" th:class="'bg-' + ${theme == 'dark'? 'secondary' : 'white'}">
    <input type="hidden" id="theme" th:value="${theme}">

    <header th:replace="header :: header ('main', ${theme})"></header>

    <div th:class="'album py-5 bg-' + ${theme == 'dark'? 'secondary' : 'white'}">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm" th:style="${theme == 'dark'? '--bs-card-bg: #212529;' : ''}">
                        <div th:class="'card-body text-' + ${theme == 'dark'? 'bg-dark' : 'dg-light'}" style="border: none!important;">
                            <h4 class="mb-2 w-auto h-auto">Заголовок</h4>
                            <p class="card-text">Это текст для примера, не несущий в себе никакого смысла. Это текст для примера, не несущий в себе никакого смысла!</p>
                            <small style="--bs-bg-opacity: .3; color: #c0c0c0" th:text="${tagsExample}"></small>
                            <div class="mb-3"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline-secondary">Смотреть</button>
                                    <button type="button" class="btn btn-outline-secondary">Изменить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div>
            <div style="margin: 0; position: absolute; left: 50%; margin-right: -50%; transform: translate(-50%, -50%); margin-bottom: 20px!important;">
                <div class="btn-group " role="group" aria-label="Basic radio toggle button group">

                    <input type="radio" style="height: 45px;" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}"  for="btnradio1">1</label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}" for="btnradio2">2</label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}" for="btnradio3">3</label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off">
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}" for="btnradio4">...</label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio5" autocomplete="off">
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}" for="btnradio5">8</label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio6" autocomplete="off">
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}" for="btnradio6">9</label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio7" autocomplete="off">
                    <label th:class="'btn btn-outline-' + ${theme == 'dark'? 'dark' : 'primary'}" for="btnradio7">10</label>
                </div>
            </div>
        </div>

    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js"></script>
    <script async src="/upload.js" th:src="@{/scripts/upload.js}"></script>
    <script async src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script async src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>
    <script async src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>

    <div id="temp" style="visibility: hidden; background-size: cover;background-repeat: no-repeat;background-position: center;width: 50px;height: 50px;display: inline-block; vertical-align: middle;"
         class="rounded-circle"> </div>
    <script>
       function sendRequest(method, url, body = null) {
            return new Promise((resolve, reject) => {
                const xhr = new XMLHttpRequest()

                    xhr.open(method, url)

                    xhr.responseType = 'text'
                    xhr.setRequestHeader('Content-Type', 'application/json')

                    xhr.onload = () => {
                        if (xhr.status == 302 || (xhr.responseURL !== url)) {
                          reject(xhr.response)
                          }
                        else {
                          resolve(xhr.response) }
                    }

                    xhr.onerror = () => {
                      reject(xhr.response)
                    }

                    xhr.send(JSON.stringify(body));
       })
  }
        sendRequest('POST', 'https://ideas-forum.herokuapp.com/avatar')
            .then(data => {
                    document.getElementById('temp').setAttribute('style', document.getElementById('temp').getAttribute('style') + 'background-image: url(' + data + ');');
                    console.log(document.getElementById('temp').getAttribute('style'));
                    document.getElementById('avatar').setAttribute('style', document.getElementById('temp').getAttribute('style'));
                    document.getElementById('avatar').style.visibility = '';
                    document.getElementById('imagePreview').setAttribute('style', document.getElementById('temp').getAttribute('style'));
                    document.getElementById('imagePreview').style.width = ''; document.getElementById('imagePreview').style.height = '';
                    document.getElementById('imagePreview').style.visibility = '';
                    document.getElementById('temp').remove();
                },
                error => {
                    document.getElementById('temp').setAttribute('style', document.getElementById('temp').getAttribute('style') + 'background-image: url(https://raw.githubusercontent.com/Krokochik/resources/main/guest.png);');
                    document.getElementById('avatar').setAttribute('style', document.getElementById('temp').getAttribute('style'));
                    document.getElementById('avatar').style.visibility = '';
                    document.getElementById('imagePreview').setAttribute('style', document.getElementById('temp').getAttribute('style'));
                    document.getElementById('imagePreview').style.width = ''; document.getElementById('imagePreview').style.height = '';
                    document.getElementById('imagePreview').style.visibility = '';
                    document.getElementById('temp').remove();
                });
    </script>
</body>
</html>
