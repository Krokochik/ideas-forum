<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="ru">
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="icon" th:href="@{/images/favicon.png}">

    <style>
        html,
        body {
            overflow: hidden;
            height: 100%
        }
        .fullpage {
            padding-bottom: 0;
            margin: 0;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -webkit-flex-direction: column;
            -ms-flex-direction: column;
            flex-direction: column
        }
        .fullpage .main-header {
            min-width: 0
        }
        .fullpage .mobile-action-button {
            display: block;
            width: 48%;
            float: left;
            text-align: center;
            margin: 0 4% 10px 0
        }
        .fullpage .mobile-action-button:nth-child(even) {
            margin-right: 0
        }
        .fullpage .jump-view {
            width: 48%;
            margin: 0 4% 10px 0;
            float: left
        }
        .fullpage .jump-view:nth-child(even) {
            margin-right: 0
        }
        .fullpage .jump-view:nth-child(3) {
            display: none
        }
        .fullpage .jump-label {
            display: block
        }
        .oldie-header {
            display: none;
            padding: 5px;
            background: var(--cp-color-20);
            color: var(--cp-color-1)
        }
        html.oldie .oldie-header {
            display: block
        }
        html.oldie .main-header {
            display: none
        }
        #result-iframe-wrap {
            -webkit-box-flex: 1;
            -webkit-flex: 1 1 auto;
            -ms-flex: 1 1 auto;
            flex: 1 1 auto;
            height: 100%;
            position: relative;
            overflow: auto;
            -webkit-overflow-scrolling: touch
        }
        html.oldie #result-iframe-wrap {
            height: 100%;
            height: calc(100% - 32px)
        }
        #result {
            position: absolute;
            top: 0;
            left: 0;
            border: 0;
            background: var(--cp-color-1);
            width: 100%;
            height: 100%;
            display: block
        }
        #full-view-ad {
            position: absolute;
            left: 50%;
            bottom: 0;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            width: -webkit-fit-content;
            width: -moz-fit-content;
            width: fit-content;
            z-index: 1
        }
        @keyframes flashing {
            from {
                box-shadow: 0px 0px 10px 1px #102770;
            }
            to {
                box-shadow: 0px 0px 18px 3px #142f85;
            }
        }
        #reg-log-lbl::before {
            animation: 1.5s infinite alternate-reverse flashing;
        }
    </style>
    <script src="/scripts/form-submit.js"></script>
</head>

<body class="fullpage">
<div id="result-iframe-wrap" role="main">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">

    <head>

        <meta charset="UTF-8">

        <title>Вход</title>

        <link rel="icon" th:href="@{/images/favicon.png}">

        <link rel="stylesheet" th:href="@{/css/oauth2-buttons.css}">
        <th:block th:include="~{imports :: auth-styles}"></th:block>
    </head>

    <body translate="no">

    <div class="section">
        <div class="container">
            <div class="row full-height justify-content-center">
                <div class="col-12 text-center align-self-center py-5">
                    <div class="section pb-5 pt-5 pt-sm-2 text-center">
                        <h6 class="mb-0 pb-3"><span onclick="document.getElementById('reg-log').checked = ''"
                                                    style="cursor: pointer;margin: 0 20px;padding: 0;">Авторизация</span>
                            <span onclick="document.getElementById('reg-log').checked = 'true'"
                                  style="cursor: pointer;margin: 0 20px;padding: 0;">Регистрация</span></h6>
                        <input class="checkbox" type="checkbox" id="reg-log" name="reg-log" th:checked="${mode}"/>
                        <label id="reg-log-lbl" for="reg-log"></label>
                        <div class="card-3d-wrap mx-auto h-auto" th:style="'min-height: ' + ${param.keySet().contains('oauth2')?
                                                                                              param.keySet().contains('nameErr')? '450':
                                                                                              param.keySet().contains('loginError')? '450':
                                                                                              param.keySet().contains('nameTakenErr')? '450':
                                                                                              param.keySet().contains('emailFormErr')? '480':
                                                                                              param.keySet().contains('nameLenErr')? '480':
                                                                                              param.keySet().contains('passInsecureErr')? '520':
                                                                                              '440':
                                                                                              param.keySet().contains('nameErr')? '560':
                                                                                              param.keySet().contains('nameTakenErr')? '560':
                                                                                              param.keySet().contains('emailFormErr')? '585':
                                                                                              param.keySet().contains('nameLenErr')? '585':
                                                                                              param.keySet().contains('passInsecureErr')? '610':
                                                                                              '520'} + 'px;'">
                            <div class="card-3d-wrapper">
                                <div class="card-front">
                                    <div onclick="window.location.href = '/main'" class="closeModal"
                                         style="top: 20px;"></div>
                                    <div class="center-wrap">
                                        <div class="section text-center">
                                            <h4 th:unless="${param.loginError}" class="mb-4 pb-3">Авторизация</h4>
                                            <h4 th:if="${param.loginError}" class="mb-1 pb-3">Авторизация</h4>
                                            <form th:action="@{/login}" method="post">
                                                <div th:if="${param.loginError}"
                                                     class="text-bg-danger rounded mb-3 h-auto"
                                                     style="--bs-bg-opacity: .3; min-height: 40px!important;">
                                                    <p style="padding: 8px;">Неверный пароль или никнейм</p>
                                                </div>
                                                <div class="form-group">
                                                    <input th:value="${name}" type="text" name="username"
                                                           class="form-style" placeholder="Ваш логин" id="username"
                                                           autocomplete="off">
                                                    <i class="input-icon uil uil-user"></i>
                                                </div>
                                                <div class="form-group mt-2">
                                                    <input th:value="${pass}" type="password" name="password"
                                                           class="form-style" placeholder="Ваш пароль" id="password"
                                                           autocomplete="off">
                                                    <i class="input-icon uil uil-lock-alt"></i>
                                                    <i class="uil uil-eye-slash" id="eye"
                                                       style="cursor: pointer;right: 5px;position: absolute;top: 5px;text-align: right;font-size: 21px;color: #ffeba7;"
                                                       onclick="document.getElementById('eye').className=document.getElementById('eye').className==='uil uil-eye-slash'? 'uil uil-eye' : 'uil uil-eye-slash'; document.getElementById('password').type=document.getElementById('password').type==='text'?'password':'text';"></i>
                                                </div>
                                                <button type="submit" id="sbmLogin" class="btn mt-4">Подтвердить
                                                </button>
                                                <div class="form-group mt-4" style="text-align: left;">
                                                    <div class="checkbox-yellow"
                                                         style="margin-left: auto;margin-right:auto;width:auto;height:auto;text-align: center;">
                                                        <input type="checkbox" checked="checked" name="remember-me"
                                                               id="squaredFour"/>
                                                        <label for="squaredFour"></label>
                                                        <span style="margin-left: 30px; white-space: nowrap;">Запомнить меня</span>
                                                    </div>
                                                </div>
                                                <p class="mb-0 mt-4 text-center"><a
                                                        style="text-decoration: underline; font-weight: 700"
                                                        href="/password-reset-request" class="link">Забыли пароль?</a>
                                                </p>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-back">
                                    <div onclick="window.location.href = '/main'" class="closeModal"
                                         style="top: 20px;"></div>
                                    <div class="center-wrap">
                                        <div class="section text-center">
                                            <h4 th:unless="${param.regErr}" class="mb-4 pb-3">Регистрация</h4>
                                            <h4 th:if="${param.regErr}" class="mb-1 pb-3">Регистрация</h4>
                                            <form th:action="${param.keySet().contains('oauth2')? '/sign-up/oauth2' : '/sign-up/manual'}" method="post">
                                                <div class="form-group">
                                                    <input type="text" name="username" class="form-style"
                                                           placeholder="Ваш логин" id="username1" autocomplete="off"
                                                           th:value="${authData != null? authData.login():''}">
                                                    <i class="input-icon uil uil-user"></i>
                                                </div>
                                                <div th:if="${param.nameTakenErr}"
                                                     class="text-bg-danger rounded mb-2 mt-2 h-auto"
                                                     style="--bs-bg-opacity: .3; min-height: 40px!important;">
                                                    <p style="padding: 8px;">Этот логин уже занят.</p>
                                                </div>
                                                <div th:if="${param.nameLenErr}"
                                                     class="text-bg-danger rounded mb-2 mt-2 h-auto"
                                                     style="--bs-bg-opacity: .3; min-height: 40px!important;">
                                                    <p style="padding: 8px;">Никнейм логин содержать не менее 4
                                                        символов.
                                                    </p>
                                                </div>
                                                <div th:if="${param.nameErr}"
                                                     class="text-bg-danger rounded mb-2 mt-2 h-auto"
                                                     style="--bs-bg-opacity: .3; min-height: 40px!important;">
                                                    <p style="padding: 8px;">Пожалуйста, введите логин.</p>
                                                </div>
                                                <div class="form-group mt-2">
                                                    <input type="email" name="email" class="form-style"
                                                           placeholder="Ваша почта" id="email" autocomplete="off"
                                                           th:value="${authData != null? authData.email():''}">
                                                    <i class="input-icon uil uil-at"></i>
                                                </div>
                                                <div th:if="${param.emailFormErr}"
                                                     class="text-bg-danger rounded mb-2 mt-2 h-auto"
                                                     style="--bs-bg-opacity: .3; min-height: 40px!important;">
                                                    <p style="padding: 8px;">Электронная почта должна соответствовать
                                                        стандарту RFC.</p>
                                                </div>
                                                <div class="form-group mt-2">
                                                    <input type="password" name="password" class="form-style"
                                                           placeholder="Ваш пароль" id="pass" autocomplete="off">
                                                    <i class="input-icon uil uil-lock-alt"></i>
                                                    <i class="uil uil-eye-slash" id="eye1"
                                                       style="cursor: pointer;right: 5px;position: absolute;top: 5px;text-align: right;font-size: 21px;color: #ffeba7;"
                                                       onclick="document.getElementById('eye1').className=document.getElementById('eye1').className==='uil uil-eye-slash'? 'uil uil-eye' : 'uil uil-eye-slash'; document.getElementById('pass').type=document.getElementById('pass').type==='text'?'password':'text';"></i>
                                                </div>
                                                <div th:if="${param.passInsecureErr}"
                                                     class="text-bg-danger rounded mb-0 mt-2 h-auto"
                                                     style="--bs-bg-opacity: .3; min-height: 40px!important;">
                                                    <p class="mb-0" style="padding: 8px;">Пароль должен содержать
                                                        прописную букву, строчную букву, цифру и иметь длину не менее 8
                                                        символов.
                                                    </p>
                                                </div>
                                                <div th:unless="${param.keySet().contains('oauth2')}" class="form-group mt-4" style="display: grid;place-items: center">
                                                    <div class="captcha">
                                                        <div id="hcaptcha" class="h-captcha"
                                                             data-sitekey="871073a5-efc4-49f9-87e4-266fc72aae96"
                                                             data-callback="onSubmit"
                                                             data-error-callback="onError" data-chalexpired-callback="onError"
                                                             data-close-callback="onError" data-expired-callback="onError" data-size="invisible"></div>
                                                        <div id="prnt" class="checkbox-yellow-captcha" style="right: 10px">
                                                            <input type="checkbox" id="squaredFour1">
                                                            <label id="captchaLbl" for="squaredFour1" style="margin-top: 2px"></label>
                                                            <span style="margin-left: 30px; white-space: nowrap">Я не робот</span>
                                                        </div>
                                                        <a id="logo" tabindex="0" target="_blank" href="https://www.hcaptcha.com/what-is-hcaptcha-about?ref=localhost&amp;utm_campaign=871073a5-efc4-49f9-87e4-266fc72aae96&amp;utm_medium=checkbox" style="display: block; width: 44px; height: 50px; margin: 0px auto;" aria-label="Посетите hcaptcha.com, чтобы узнать больше об услуге и возможностях ее доступности."><div class="logo-graphic" style="cursor: pointer; forced-color-adjust: none; width: 44px; height: 50px;"><svg xmlns="http://www.w3.org/2000/svg" width="44" height="46" viewBox="0 0 44 46" fill="none" style="width: 44px; height: 50px; display: block;"><path opacity="0.5" d="M30 28H26V32H30V28Z" fill="#0074BF"></path><path opacity="0.7" d="M26 28H22V32H26V28Z" fill="#0074BF"></path><path opacity="0.7" d="M22 28H18V32H22V28Z" fill="#0074BF"></path><path opacity="0.5" d="M18 28H14V32H18V28Z" fill="#0074BF"></path><path opacity="0.7" d="M34 24H30V28H34V24Z" fill="#0082BF"></path><path opacity="0.8" d="M30 24H26V28H30V24Z" fill="#0082BF"></path><path d="M26 24H22V28H26V24Z" fill="#0082BF"></path><path d="M22 24H18V28H22V24Z" fill="#0082BF"></path><path opacity="0.8" d="M18 24H14V28H18V24Z" fill="#0082BF"></path><path opacity="0.7" d="M14 24H10V28H14V24Z" fill="#0082BF"></path><path opacity="0.5" d="M38 20H34V24H38V20Z" fill="#008FBF"></path><path opacity="0.8" d="M34 20H30V24H34V20Z" fill="#008FBF"></path><path d="M30 20H26V24H30V20Z" fill="#008FBF"></path><path d="M26 20H22V24H26V20Z" fill="#008FBF"></path><path d="M22 20H18V24H22V20Z" fill="#008FBF"></path><path d="M18 20H14V24H18V20Z" fill="#008FBF"></path><path opacity="0.8" d="M14 20H10V24H14V20Z" fill="#008FBF"></path><path opacity="0.5" d="M10 20H6V24H10V20Z" fill="#008FBF"></path><path opacity="0.7" d="M38 16H34V20H38V16Z" fill="#009DBF"></path><path d="M34 16H30V20H34V16Z" fill="#009DBF"></path><path d="M30 16H26V20H30V16Z" fill="#009DBF"></path><path d="M26 16H22V20H26V16Z" fill="#009DBF"></path><path d="M22 16H18V20H22V16Z" fill="#009DBF"></path><path d="M18 16H14V20H18V16Z" fill="#009DBF"></path><path d="M14 16H10V20H14V16Z" fill="#009DBF"></path><path opacity="0.7" d="M10 16H6V20H10V16Z" fill="#009DBF"></path><path opacity="0.7" d="M38 12H34V16H38V12Z" fill="#00ABBF"></path><path d="M34 12H30V16H34V12Z" fill="#00ABBF"></path><path d="M30 12H26V16H30V12Z" fill="#00ABBF"></path><path d="M26 12H22V16H26V12Z" fill="#00ABBF"></path><path d="M22 12H18V16H22V12Z" fill="#00ABBF"></path><path d="M18 12H14V16H18V12Z" fill="#00ABBF"></path><path d="M14 12H10V16H14V12Z" fill="#00ABBF"></path><path opacity="0.7" d="M10 12H6V16H10V12Z" fill="#00ABBF"></path><path opacity="0.5" d="M38 8H34V12H38V8Z" fill="#00B9BF"></path><path opacity="0.8" d="M34 8H30V12H34V8Z" fill="#00B9BF"></path><path d="M30 8H26V12H30V8Z" fill="#00B9BF"></path><path d="M26 8H22V12H26V8Z" fill="#00B9BF"></path><path d="M22 8H18V12H22V8Z" fill="#00B9BF"></path><path d="M18 8H14V12H18V8Z" fill="#00B9BF"></path><path opacity="0.8" d="M14 8H10V12H14V8Z" fill="#00B9BF"></path><path opacity="0.5" d="M10 8H6V12H10V8Z" fill="#00B9BF"></path><path opacity="0.7" d="M34 4H30V8H34V4Z" fill="#00C6BF"></path><path opacity="0.8" d="M30 4H26V8H30V4Z" fill="#00C6BF"></path><path d="M26 4H22V8H26V4Z" fill="#00C6BF"></path><path d="M22 4H18V8H22V4Z" fill="#00C6BF"></path><path opacity="0.8" d="M18 4H14V8H18V4Z" fill="#00C6BF"></path><path opacity="0.7" d="M14 4H10V8H14V4Z" fill="#00C6BF"></path><path opacity="0.5" d="M30 0H26V4H30V0Z" fill="#00D4BF"></path><path opacity="0.7" d="M26 0H22V4H26V0Z" fill="#00D4BF"></path><path opacity="0.7" d="M22 0H18V4H22V0Z" fill="#00D4BF"></path><path opacity="0.5" d="M18 0H14V4H18V0Z" fill="#00D4BF"></path><path d="M16.5141 14.9697L17.6379 12.4572C18.0459 11.8129 17.9958 11.0255 17.5449 10.5745C17.4876 10.5173 17.416 10.46 17.3444 10.4171C17.0366 10.2238 16.6572 10.1808 16.3065 10.2954C15.9199 10.4171 15.5835 10.6748 15.3687 11.0184C15.3687 11.0184 13.8297 14.6046 13.2642 16.2153C12.6987 17.8259 12.9206 20.7822 15.1254 22.987C17.4661 25.3277 20.8448 25.8575 23.0066 24.2397C23.0997 24.1967 23.1784 24.1395 23.2572 24.0751L29.9072 18.5202C30.2293 18.2554 30.7089 17.7042 30.2794 17.0743C29.8642 16.4586 29.0697 16.881 28.7404 17.0886L24.9107 19.8731C24.8391 19.9304 24.7318 19.9232 24.6673 19.8517C24.6673 19.8517 24.6673 19.8445 24.6602 19.8445C24.56 19.7228 24.5456 19.4079 24.696 19.2862L30.5657 14.304C31.074 13.8459 31.1456 13.1802 30.7304 12.7292C30.3295 12.2854 29.6924 12.2997 29.1842 12.7578L23.9157 16.881C23.8155 16.9597 23.6652 16.9454 23.5864 16.8452L23.5793 16.838C23.4719 16.7235 23.4361 16.5231 23.5506 16.4014L29.535 10.596C30.0074 10.1522 30.036 9.4149 29.5922 8.94245C29.3775 8.72054 29.084 8.59169 28.7762 8.59169C28.4612 8.59169 28.1606 8.70623 27.9387 8.92813L21.8255 14.6691C21.6823 14.8122 21.396 14.6691 21.3602 14.4973C21.3459 14.4328 21.3674 14.3684 21.4103 14.3255L26.0918 8.99972C26.5571 8.56306 26.5858 7.83292 26.1491 7.36763C25.7124 6.90234 24.9823 6.87371 24.517 7.31036C24.4955 7.32468 24.4812 7.34615 24.4597 7.36763L17.3659 15.2203C17.1082 15.478 16.736 15.4851 16.557 15.342C16.4425 15.2489 16.4282 15.0843 16.5141 14.9697Z" fill="white"></path><path d="M4.99195 43.6627H3.32946V40.8306C3.32946 40.1764 3.2488 39.6073 2.55423 39.6073C1.85966 39.6073 1.64905 40.2167 1.64905 41.0144V43.6627H0V36.112H1.64905V37.9045C1.64905 38.4512 1.64008 39.0427 1.64008 39.0427C1.89999 38.5632 2.38395 38.1689 3.13677 38.1689C4.61106 38.1689 4.99195 39.1637 4.99195 40.4766V43.6627Z" fill="white"></path><path d="M12.081 42.762C11.7181 43.1563 10.9652 43.7882 9.51337 43.7882C7.42069 43.7882 5.77612 42.3228 5.77612 39.8941C5.77612 37.4564 7.43861 36 9.50889 36C10.9742 36 11.7674 36.6453 11.9556 36.8514L11.4402 38.3167C11.3058 38.1285 10.544 37.5281 9.60299 37.5281C8.39757 37.5281 7.4655 38.3795 7.4655 39.8582C7.4655 41.337 8.43342 42.175 9.60299 42.175C10.4902 42.175 11.131 41.803 11.5209 41.3773L12.081 42.762Z" fill="white"></path><path d="M17.3016 43.6627H15.7242L15.6928 43.0936C15.4777 43.3221 15.0655 43.7837 14.2365 43.7837C13.3403 43.7837 12.3903 43.2684 12.3903 42.0674C12.3903 40.8665 13.4344 40.4587 14.3709 40.4139L15.6525 40.3601V40.2391C15.6525 39.67 15.2716 39.3743 14.6084 39.3743C13.9586 39.3743 13.3089 39.679 13.049 39.8538L12.6143 38.72C13.049 38.4915 13.8421 38.1733 14.7921 38.1733C15.7421 38.1733 16.2888 38.4019 16.6921 38.7962C17.082 39.1906 17.3016 39.7148 17.3016 40.6245V43.6627ZM15.657 41.2877L14.8414 41.3415C14.3351 41.3639 14.0348 41.5924 14.0348 41.9957C14.0348 42.4125 14.353 42.6634 14.8101 42.6634C15.2537 42.6634 15.5539 42.3587 15.657 42.1705V41.2877Z" fill="white"></path><path d="M21.6035 43.7792C20.8506 43.7792 20.3129 43.4835 19.9948 42.9816V45.6389H18.3457V38.2674H19.9141L19.9051 38.9575H19.9275C20.2995 38.487 20.8462 38.1689 21.6214 38.1689C23.0867 38.1689 24.0143 39.3832 24.0143 40.9696C24.0143 42.5559 23.0778 43.7792 21.6035 43.7792ZM21.1285 39.549C20.4249 39.549 19.941 40.1181 19.941 40.9471C19.941 41.7762 20.4249 42.3453 21.1285 42.3453C21.841 42.3453 22.3249 41.7762 22.3249 40.9471C22.3249 40.1181 21.841 39.549 21.1285 39.549Z" fill="white"></path><path d="M27.8322 39.6028H26.7074V41.5386C26.7074 42.0002 26.7702 42.1077 26.8508 42.2063C26.9225 42.296 27.0256 42.3363 27.2407 42.3363C27.411 42.3318 27.5768 42.3004 27.7381 42.2377L27.8188 43.6044C27.4379 43.7165 27.039 43.7747 26.6447 43.7792C26.0577 43.7792 25.6633 43.591 25.4079 43.2773C25.1525 42.9636 25.0449 42.511 25.0449 41.691V39.6028H24.3235V38.2809H25.0449V36.8156H26.7074V38.2809H27.8322V39.6028Z" fill="white"></path><path d="M32.712 43.1339C32.6583 43.1787 32.125 43.7792 30.7717 43.7792C29.3781 43.7792 28.0875 42.771 28.0875 40.9785C28.0875 39.1726 29.396 38.1689 30.7896 38.1689C32.0892 38.1689 32.6762 38.738 32.6762 38.738L32.3132 40.0599C31.9458 39.7507 31.4842 39.5804 31.0047 39.5804C30.3012 39.5804 29.7455 40.0957 29.7455 40.9471C29.7455 41.7986 30.2519 42.3363 31.0271 42.3363C31.8024 42.3363 32.3177 41.812 32.3177 41.812L32.712 43.1339Z" fill="white"></path><path d="M38.3986 43.6627H36.7361V40.8306C36.7361 40.1764 36.6554 39.6073 35.9608 39.6073C35.2663 39.6073 35.0512 40.2212 35.0512 41.0188V43.6672H33.4066V36.112H35.0557V37.9045C35.0557 38.4512 35.0467 39.0427 35.0467 39.0427C35.3066 38.5632 35.7906 38.1689 36.5434 38.1689C38.0177 38.1689 38.3986 39.1637 38.3986 40.4766V43.6627Z" fill="white"></path><path d="M44 43.6627H42.4227L42.3913 43.0936C42.1762 43.3221 41.764 43.7837 40.935 43.7837C40.0387 43.7837 39.0887 43.2684 39.0887 42.0674C39.0887 40.8665 40.1328 40.4587 41.0694 40.4139L42.351 40.3601V40.2391C42.351 39.67 41.9701 39.3743 41.3069 39.3743C40.6571 39.3743 40.0074 39.679 39.7475 39.8538L39.3128 38.7156C39.7475 38.487 40.5406 38.1689 41.4906 38.1689C42.4406 38.1689 42.9873 38.3974 43.3906 38.7917C43.7805 39.1861 44 39.7104 44 40.62V43.6627ZM42.3599 41.2877L41.5444 41.3415C41.038 41.3639 40.7378 41.5924 40.7378 41.9957C40.7378 42.4125 41.0559 42.6634 41.513 42.6634C41.9566 42.6634 42.2569 42.3587 42.3599 42.1705V41.2877V41.2877Z" fill="white"></path></svg></div></a>
                                                    </div>
                                                </div>
                                                <button id="submit" type="submit" class="btn mt-4">Подтвердить</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h6 class="mb-0 mt-4"><span>или</span></h6>
                        <div class="mt-4" style="background-color: #2A2B38;width: 250px;height: 90px;margin: auto;border-radius: 10px;background-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg);background-size: 300%;background-repeat: no-repeat;background-position: center;">
                            <div id="github" class="oauth2-button" th:with="oauth2=${param.keySet().contains('oauth2')}" th:style="'margin-right: 15px;' + ${github and oauth2? 'border: 3px;border-color: #ffeba7;border-style: dashed':''}" th:data-github="${github}" th:data-oauth2="${oauth2}" onclick="oauth2Github(this)">
                                <svg th:if="${github and param.keySet().contains('oauth2')}" viewBox="-3.2 -3.2 38.40 38.40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000" style="position: absolute;width: 23px;z-index: 2;right: -8px;top: -9px;"><g id="SVGRepo_bgCarrier" stroke-width="0" transform="translate(8,8), scale(0.5)"><rect x="-3.2" y="-3.2" width="38.40" height="38.40" rx="19.2" fill="#1f2029" strokewidth="0"></rect></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-570.000000, -1089.000000)" fill="#ffeba7" style="/* fill-opacity: 20%; */"> <path d="M591.657,1109.24 C592.048,1109.63 592.048,1110.27 591.657,1110.66 C591.267,1111.05 590.633,1111.05 590.242,1110.66 L586.006,1106.42 L581.74,1110.69 C581.346,1111.08 580.708,1111.08 580.314,1110.69 C579.921,1110.29 579.921,1109.65 580.314,1109.26 L584.58,1104.99 L580.344,1100.76 C579.953,1100.37 579.953,1099.73 580.344,1099.34 C580.733,1098.95 581.367,1098.95 581.758,1099.34 L585.994,1103.58 L590.292,1099.28 C590.686,1098.89 591.323,1098.89 591.717,1099.28 C592.11,1099.68 592.11,1100.31 591.717,1100.71 L587.42,1105.01 L591.657,1109.24 L591.657,1109.24 Z M586,1089 C577.163,1089 570,1096.16 570,1105 C570,1113.84 577.163,1121 586,1121 C594.837,1121 602,1113.84 602,1105 C602,1096.16 594.837,1089 586,1089 L586,1089 Z" id="cross-circle" sketch:type="MSShapeGroup"> </path> </g> </g> </g></svg>
                                <svg id="svg" th:style="${github and param.keySet().contains('oauth2')? 'fill: #ffeba7':''}" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[]"> </path> </g> </g> </g> </g></svg>
                            </div>
                            <div id="discord" class="oauth2-button" th:with="oauth2=${param.keySet().contains('oauth2')}" th:style="'margin-left: 15px;' + ${discord and oauth2? 'border: 3px;border-color: #ffeba7;border-style: dashed':''}" th:data-discord="${discord}" th:data-oauth2="${oauth2}" onclick="oauth2Discord(this)">
                                <svg th:if="${discord and param.keySet().contains('oauth2')}" viewBox="-3.2 -3.2 38.40 38.40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000" style="position: absolute;width: 23px;z-index: 2;right: -8px;top: -9px;"><g id="SVGRepo_bgCarrier" stroke-width="0" transform="translate(8,8), scale(0.5)"><rect x="-3.2" y="-3.2" width="38.40" height="38.40" rx="19.2" fill="#1f2029" strokewidth="0"></rect></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-570.000000, -1089.000000)" fill="#ffeba7" style="/* fill-opacity: 20%; */"> <path d="M591.657,1109.24 C592.048,1109.63 592.048,1110.27 591.657,1110.66 C591.267,1111.05 590.633,1111.05 590.242,1110.66 L586.006,1106.42 L581.74,1110.69 C581.346,1111.08 580.708,1111.08 580.314,1110.69 C579.921,1110.29 579.921,1109.65 580.314,1109.26 L584.58,1104.99 L580.344,1100.76 C579.953,1100.37 579.953,1099.73 580.344,1099.34 C580.733,1098.95 581.367,1098.95 581.758,1099.34 L585.994,1103.58 L590.292,1099.28 C590.686,1098.89 591.323,1098.89 591.717,1099.28 C592.11,1099.68 592.11,1100.31 591.717,1100.71 L587.42,1105.01 L591.657,1109.24 L591.657,1109.24 Z M586,1089 C577.163,1089 570,1096.16 570,1105 C570,1113.84 577.163,1121 586,1121 C594.837,1121 602,1113.84 602,1105 C602,1096.16 594.837,1089 586,1089 L586,1089 Z" id="cross-circle" sketch:type="MSShapeGroup"> </path> </g> </g> </g></svg>
                                <svg id="svg" th:style="${discord and param.keySet().contains('oauth2')? 'fill: #ffeba7':''}" viewBox="0 -28.5 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z" fill-rule="nonzero"> </path> </g> </g></svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script th:unless="${param.keySet().contains('oauth2')}" src="https://js.hcaptcha.com/1/api.js" async defer></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script th:src="@{/scripts/captcha.js}"></script>
    <script>
        if (window.location.pathname === "/sign-up")
            if (document.getElementById('username1').value != '')
                if (document.getElementById('email').value != '')
                    document.getElementById('pass').focus();
                else document.getElementById('email').focus();
            else document.getElementById('username1').focus();
        else document.getElementById('username').focus();
    </script>
    <script>
        function oauth2Github(element) {
            var isGithubProvider = element.dataset.github;
            var isOauth2Redirect = element.dataset.oauth2;

            if (isGithubProvider === "true")
                if (isOauth2Redirect === "true")
                    window.location.href = window.location.href.substring(0, window.location.href.indexOf('?'));
                else
                    window.location.href = window.location.href.substring(0, window.location.href.indexOf('?')) + '?oauth2=true'
            else window.location.href = '/oauth2/authorization/github'
        }
        function oauth2Discord(element) {
            var isDiscordProvider = element.dataset.discord;
            var isOauth2Redirect = element.dataset.oauth2;

            if (isDiscordProvider === "true")
                if (isOauth2Redirect === "true")
                    window.location.href = window.location.href.substring(0, window.location.href.indexOf('?'));
                else
                    window.location.href = window.location.href.substring(0, window.location.href.indexOf('?')) + '?oauth2=true';
            else window.location.href = '/oauth2/authorization/discord';
        }
    </script>
    </body>

    </html>
</div>
</body>

</html>